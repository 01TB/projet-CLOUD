<!-- src/app/components/signalement-detail/signalement-detail.component.html -->
<div class="signalement-detail-container">
  <!-- Header avec navigation -->
  <div class="page-header">
    <button class="btn-back" (click)="goBack()">
      <span class="back-icon">â†</span> Retour Ã  la carte
    </button>
    <h2>ğŸ“‹ DÃ©tails du signalement #{{ signalement?.id }}</h2>
  </div>

  <!-- Message d'erreur -->
  <div class="alert alert-danger" *ngIf="errorMessage">
    âœ— {{ errorMessage }}
  </div>

  <!-- Loader -->
  <div class="loader" *ngIf="loading">
    <div class="spinner"></div>
    <p>Chargement...</p>
  </div>

  <!-- Contenu principal -->
  <div class="detail-content" *ngIf="!loading && signalement">
    <!-- Section Photos -->
    <div class="detail-section photo-section">
      <h3>ğŸ“· Photos</h3>
      <div class="photos-grid">
        <div class="photo-item">
          <img [src]="getDefaultPhoto()" alt="Photo du signalement" class="signalement-photo">
        </div>
      </div>
    </div>

    <!-- Grille de sections -->
    <div class="sections-grid">
      <!-- Section Informations gÃ©nÃ©rales -->
      <div class="detail-section">
        <h3>ğŸ“‹ Informations gÃ©nÃ©rales</h3>
        <div class="info-grid">
          <div class="info-item">
            <span class="info-label">ID</span>
            <span class="info-value id-value">#{{ signalement.id }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Date de crÃ©ation</span>
            <span class="info-value">{{ formatDate(signalement.date_creation) }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Statut</span>
            <span class="info-value">
              <span class="badge" [ngClass]="getStatutBadgeClass(signalement.statut_actuel.nom)">
                {{ getStatutIcon(signalement.statut_actuel.nom) }} {{ signalement.statut_actuel.nom }}
              </span>
            </span>
          </div>
        </div>
      </div>

      <!-- Section Entreprise -->
      <div class="detail-section">
        <h3>ğŸ¢ Entreprise</h3>
        <div class="info-grid">
          <div class="info-item">
            <span class="info-label">Nom</span>
            <span class="info-value">{{ signalement.entreprise?.nom || 'Non assignÃ©' }}</span>
          </div>
          <div class="info-item" *ngIf="signalement.entreprise?.id">
            <span class="info-label">ID Entreprise</span>
            <span class="info-value">#{{ signalement.entreprise.id }}</span>
          </div>
        </div>
      </div>

      <!-- Section Dimensions et Budget -->
      <div class="detail-section">
        <h3>ğŸ’° Dimensions et Budget</h3>
        <div class="info-grid">
          <div class="info-item">
            <span class="info-label">Surface</span>
            <span class="info-value">{{ formatSurface(signalement.surface) }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Budget</span>
            <span class="info-value budget-value">{{ formatBudget(signalement.budget) }}</span>
          </div>
        </div>
      </div>

      <!-- Section Localisation -->
      <div class="detail-section">
        <h3>ğŸ“ Localisation</h3>
        <div class="info-grid">
          <div class="info-item">
            <span class="info-label">Latitude</span>
            <span class="info-value">{{ signalement.localisation.lat }}</span>
          </div>
          <div class="info-item">
            <span class="info-label">Longitude</span>
            <span class="info-value">{{ signalement.localisation.lng }}</span>
          </div>
        </div>
      </div>

      <!-- Section CrÃ©ateur -->
      <div class="detail-section">
        <h3>ğŸ‘¤ CrÃ©ateur</h3>
        <div class="info-grid">
          <div class="info-item">
            <span class="info-label">ID Utilisateur</span>
            <span class="info-value">#{{ signalement.id_utilisateur_createur }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
